import pytest
from main import check_equation_string, parse_and_calculate


@pytest.mark.parametrize("input_value, expected_output", [
    ("пять плюс три", ["пять", "плюс", "три"]),
    ("десять минус два", ["десять", "минус", "два"]),
    ("сорок умножить на пять", ["сорок", "умножить на", "пять"]),
    ("сто разделить на двадцать", ["сто", "разделить на", "двадцать"]),
    ("пять процент два", ["пять", "процент", "два"]),
    ("шесть остаток от деления на три", ["шесть", "остаток от деления на", "три"]),
    ("пятьдесят плюс", False),  # Недостаточно компонентов
    ("плюс пятьдесят", False),  # Неверный формат
    ("", False),  # Пустая строка
    ("пять плюс три плюс два", False),  # Слишком много компонентов
])
def test_check_equation_string(input_value, expected_output):
    result = check_equation_string(input_value)
    assert result == expected_output


@pytest.mark.parametrize("input_value, expected_output", [
    (["пять", "плюс", "три"], "восемь"),
    (["десять", "минус", "два"], "восемь"),
    (["сорок", "умножить на", "пять"], "двести"),
    (["сто", "разделить на", "двадцать"], "пять"),
    (["пять", "процент", "два"], "один"),
    (["шесть", "остаток от деления на", "три"], "ноль"),
    (["ноль", "плюс", "ноль"], "ноль"),
    (["минус пять", "плюс", "три"], "минус два"),
    (["сто двадцать три", "плюс", "девяносто семь"], "двести двадцать"),
    (["одна тысяча", "умножить на", "ноль"], "ноль"),
    (["девятьсот девяносто девять", "плюс", "один"], "одна тысяча"),
    (["десять", "разделить на", "ноль"], "Ошибка: деление на ноль"),
    (["пятьдесят", "неизвестно", "десять"], "Ошибка: Неизвестная операция"),
])
def test_parse_and_calculate(input_value, expected_output):
    result = parse_and_calculate(input_value)
    assert result == expected_output
